import{r as d,j as e}from"./index-CoVO-b_c.js";import{c as h,d as g,e as b}from"./index-hnJZbFbI.js";import{A as j}from"./index-BgPwnteA.js";import{m as f}from"./proxy-CNn4YiWc.js";const y=({isOpen:x,onClose:l,role:r,onSave:c})=>{const[i,n]=d.useState({name:"",permissions:{users:{create:!1,read:!1,update:!1,delete:!1},posts:{create:!1,read:!1,update:!1,delete:!1},settings:{create:!1,read:!1,update:!1,delete:!1}}});d.useEffect(()=>{n(r?{id:r.id,name:r.name,permissions:JSON.parse(JSON.stringify(r.permissions))}:{name:"",permissions:{users:{create:!1,read:!1,update:!1,delete:!1},posts:{create:!1,read:!1,update:!1,delete:!1},settings:{create:!1,read:!1,update:!1,delete:!1}}})},[r]);const m=(s,t)=>{n(o=>({...o,permissions:{...o.permissions,[s]:{...o.permissions[s],[t]:!o.permissions[s][t]}}}))},p=s=>{s.preventDefault();const t={id:r?r.id:Date.now(),...i};c(t)},u=["users","posts","settings"],a=["create","read","update","delete"];return e.jsx(j,{children:x&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs(f.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:r?"Edit Role":"Create New Role"}),e.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700",children:e.jsx(h,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:p,className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role Name"}),e.jsx("input",{type:"text",value:i.name,onChange:s=>n(t=>({...t,name:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsx("div",{className:"space-y-6",children:u.map(s=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-4 capitalize",children:[s," Permissions"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.map(t=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.permissions[s][t],onChange:()=>m(s,t),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:t})]},t))})]},s))}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:r?"Update Role":"Create Role"})]})]})]})})})},C=()=>{const[x,l]=d.useState(!1),[r,c]=d.useState(null),[i,n]=d.useState([{id:1,name:"Admin",permissions:{users:{create:!0,read:!0,update:!0,delete:!0},posts:{create:!0,read:!0,update:!0,delete:!0},settings:{create:!0,read:!0,update:!0,delete:!0}}},{id:2,name:"Editor",permissions:{users:{create:!1,read:!0,update:!0,delete:!1},posts:{create:!0,read:!0,update:!0,delete:!0},settings:{create:!1,read:!0,update:!1,delete:!1}}},{id:3,name:"Viewer",permissions:{users:{create:!1,read:!0,update:!1,delete:!1},posts:{create:!1,read:!0,update:!1,delete:!1},settings:{create:!1,read:!0,update:!1,delete:!1}}}]),m=a=>{c(a),l(!0)},p=a=>{n(i.map(s=>s.id===a.id?a:s)),l(!1)},u=a=>{n(i.filter(s=>s.id!==a))};return e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-6 bg-white rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Role Management"}),e.jsx("button",{onClick:()=>{c(null),l(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add New Role"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Users"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Posts"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Settings"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"font-medium text-gray-900",children:a.name})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex space-x-2",children:Object.entries(a.permissions.users).map(([s,t])=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.charAt(0).toUpperCase()},s))})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex space-x-2",children:Object.entries(a.permissions.posts).map(([s,t])=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.charAt(0).toUpperCase()},s))})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex space-x-2",children:Object.entries(a.permissions.settings).map(([s,t])=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.charAt(0).toUpperCase()},s))})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>m(a),className:"text-blue-600 hover:text-blue-800",children:e.jsx(g,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>u(a.id),className:"text-red-600 hover:text-red-800",children:e.jsx(b,{className:"w-5 h-5"})})]})})]},a.id))})]})}),e.jsx(y,{isOpen:x,onClose:()=>l(!1),role:r,onSave:p})]})};export{C as default};
//# sourceMappingURL=RolesManagement-DfAFpD4_.js.map
