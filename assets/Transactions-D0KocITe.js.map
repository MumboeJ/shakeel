{"version":3,"file":"Transactions-D0KocITe.js","sources":["../../src/components/ui/Badge.jsx","../../src/pages/Transactions.jsx"],"sourcesContent":["import clsx from 'clsx';\n\nconst variants = {\n  success: 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400',\n  warning: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400',\n  error: 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400',\n  info: 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400',\n};\n\nexport const Badge = ({ variant = 'info', children }) => {\n  return (\n    <span\n      className={clsx(\n        'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium',\n        variants[variant]\n      )}\n    >\n      {children}\n    </span>\n  );\n}; ","import { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Table } from '../components/ui/Table';\nimport { Card } from '../components/ui/Card';\nimport { Badge } from '../components/ui/Badge';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\n\nconst Transactions = () => {\n  const [transactions, setTransactions] = useState([]);\n  const [stats, setStats] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  const fetchTransactions = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\n        `http://localhost:5000/api/transactions?page=${page}`,\n        { credentials: 'include' }\n      );\n      const data = await response.json();\n      setTransactions(data.transactions);\n      setTotalPages(data.pages);\n    } catch (error) {\n      console.error('Failed to fetch transactions:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/transactions/stats', {\n        credentials: 'include'\n      });\n      const data = await response.json();\n      setStats(data);\n    } catch (error) {\n      console.error('Failed to fetch stats:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTransactions();\n    fetchStats();\n  }, [page]);\n\n  const getStatusBadge = (status) => {\n    const variants = {\n      pending: 'warning',\n      success: 'success',\n      failed: 'error'\n    };\n\n    return (\n      <Badge variant={variants[status] || 'info'}>\n        {status.charAt(0).toUpperCase() + status.slice(1)}\n      </Badge>\n    );\n  };\n\n  const columns = [\n    { key: 'user_email', label: 'User' },\n    {\n      key: 'amount',\n      label: 'Amount',\n      render: (row) => `$${row.amount.toFixed(2)}`\n    },\n    {\n      key: 'status',\n      label: 'Status',\n      render: (row) => getStatusBadge(row.status)\n    },\n    {\n      key: 'date',\n      label: 'Date',\n      render: (row) => new Date(row.date).toLocaleDateString()\n    }\n  ];\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n          Transactions\n        </h1>\n\n        {/* Revenue Chart */}\n        <Card>\n          <h2 className=\"text-lg font-semibold mb-4 text-gray-900 dark:text-white\">\n            Revenue Overview\n          </h2>\n          <div className=\"h-80\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <LineChart data={stats}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"week\" />\n                <YAxis />\n                <Tooltip />\n                <Line\n                  type=\"monotone\"\n                  dataKey=\"total\"\n                  stroke=\"#6366f1\"\n                  strokeWidth={2}\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          </div>\n        </Card>\n\n        {/* Transactions Table */}\n        <Card>\n          <h2 className=\"text-lg font-semibold mb-4 text-gray-900 dark:text-white\">\n            Recent Transactions\n          </h2>\n          <Table\n            columns={columns}\n            data={transactions}\n            isLoading={loading}\n          />\n\n          {/* Pagination */}\n          <div className=\"mt-4 flex justify-between items-center\">\n            <div className=\"text-sm text-gray-700 dark:text-gray-300\">\n              Page {page} of {totalPages}\n            </div>\n            <div className=\"space-x-2\">\n              <button\n                className=\"px-4 py-2 border border-gray-300 dark:border-dark-border rounded-md disabled:opacity-50\"\n                onClick={() => setPage(page - 1)}\n                disabled={page === 1}\n              >\n                Previous\n              </button>\n              <button\n                className=\"px-4 py-2 border border-gray-300 dark:border-dark-border rounded-md disabled:opacity-50\"\n                onClick={() => setPage(page + 1)}\n                disabled={page === totalPages}\n              >\n                Next\n              </button>\n            </div>\n          </div>\n        </Card>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default Transactions; "],"names":["variants","Badge","variant","children","jsx","clsx","Transactions","transactions","setTransactions","useState","stats","setStats","loading","setLoading","page","setPage","totalPages","setTotalPages","fetchTransactions","data","error","fetchStats","useEffect","getStatusBadge","status","columns","row","motion","jsxs","Card","ResponsiveContainer","LineChart","CartesianGrid","XAxis","YAxis","Tooltip","Line","Table"],"mappings":"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"}