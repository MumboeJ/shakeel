{"version":3,"file":"Users-Bh8OVDjn.js","sources":["../../node_modules/lucide-react/dist/esm/icons/pen.js","../../node_modules/lucide-react/dist/esm/icons/trash-2.js","../../src/pages/Users.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.330.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pen = createLucideIcon(\"Pen\", [\n  [\"path\", { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }]\n]);\n\nexport { Pen as default };\n//# sourceMappingURL=pen.js.map\n","/**\n * @license lucide-react v0.330.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trash2 = createLucideIcon(\"Trash2\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n]);\n\nexport { Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","import { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Table } from \"../components/ui/Table\";\nimport { Card } from \"../components/ui/Card\";\nimport { Search, Edit2, Trash2 } from \"lucide-react\";\n\nconst Users = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [sortColumn, setSortColumn] = useState(\"created_at\");\n  const [sortDirection, setSortDirection] = useState(\"desc\");\n  const mockUsers = [\n    { id: 1, name: \"John Doe\", email: \"john@example.com\", role: \"admin\" },\n    { id: 2, name: \"Jane Smith\", email: \"jane@example.com\", role: \"user\" },\n  ];\n\n  useEffect(() => {\n    setUsers(mockUsers); // replace API call\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\n        `http://localhost:5000/api/users?page=${page}&search=${search}`,\n        { credentials: \"include\" }\n      );\n      const data = await response.json();\n      setUsers(data.users);\n      setTotalPages(data.pages);\n    } catch (error) {\n      console.error(\"Failed to fetch users:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUsers();\n  }, [page, search]);\n\n  const handleSort = (column) => {\n    if (sortColumn === column) {\n      setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\n    } else {\n      setSortColumn(column);\n      setSortDirection(\"asc\");\n    }\n  };\n\n  const handleDelete = async (userId) => {\n    if (!window.confirm(\"Are you sure you want to delete this user?\")) return;\n\n    try {\n      const response = await fetch(\n        `http://localhost:5000/api/users/${userId}`,\n        {\n          method: \"DELETE\",\n          credentials: \"include\",\n        }\n      );\n\n      if (response.ok) {\n        fetchUsers();\n      }\n    } catch (error) {\n      console.error(\"Failed to delete user:\", error);\n    }\n  };\n\n  const columns = [\n    { key: \"email\", label: \"Email\", sortable: true },\n    { key: \"name\", label: \"Name\", sortable: true },\n    { key: \"role\", label: \"Role\", sortable: true },\n    {\n      key: \"created_at\",\n      label: \"Created At\",\n      sortable: true,\n      render: (row) => new Date(row.created_at).toLocaleDateString(),\n    },\n  ];\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div className=\"space-y-4\">\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n            Users\n          </h1>\n          <div className=\"relative\">\n            <Search\n              className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"\n              size={20}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Search users...\"\n              className=\"pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-dark-bg-secondary dark:text-white\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n            />\n          </div>\n        </div>\n\n        <Card>\n          <Table\n            columns={columns}\n            data={users}\n            isLoading={loading}\n            sortColumn={sortColumn}\n            sortDirection={sortDirection}\n            onSort={handleSort}\n            rowActions={(row) => (\n              <div className=\"flex space-x-2\">\n                <button\n                  className=\"text-primary-600 hover:text-primary-700\"\n                  onClick={() => console.log(\"Edit:\", row.id)}\n                >\n                  <Edit2 size={16} />\n                </button>\n                <button\n                  className=\"text-red-600 hover:text-red-700\"\n                  onClick={() => handleDelete(row.id)}\n                >\n                  <Trash2 size={16} />\n                </button>\n              </div>\n            )}\n          />\n\n          {/* Pagination */}\n          <div className=\"mt-4 flex justify-between items-center\">\n            <div className=\"text-sm text-gray-700 dark:text-gray-300\">\n              Page {page} of {totalPages}\n            </div>\n            <div className=\"space-x-2\">\n              <button\n                className=\"px-4 py-2 border border-gray-300 dark:border-dark-border rounded-md disabled:opacity-50\"\n                onClick={() => setPage(page - 1)}\n                disabled={page === 1}\n              >\n                Previous\n              </button>\n              <button\n                className=\"px-4 py-2 border border-gray-300 dark:border-dark-border rounded-md disabled:opacity-50\"\n                onClick={() => setPage(page + 1)}\n                disabled={page === totalPages}\n              >\n                Next\n              </button>\n            </div>\n          </div>\n        </Card>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default Users;\n"],"names":["Pen","createLucideIcon","Trash2","Users","users","setUsers","useState","loading","setLoading","search","setSearch","page","setPage","totalPages","setTotalPages","sortColumn","setSortColumn","sortDirection","setSortDirection","mockUsers","useEffect","fetchUsers","data","error","handleSort","column","handleDelete","userId","columns","row","jsx","motion","jsxs","Search","e","Card","Table","Edit2"],"mappings":"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","x_google_ignoreList":[0,1]}