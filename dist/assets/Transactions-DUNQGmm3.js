import{j as e,r}from"./index-CB33YwO6.js";import{T as f}from"./Table-BfyILhsP.js";import{C as l}from"./Card-BpGxWaDc.js";import{c as j}from"./clsx-B-dksMZM.js";import{m as k}from"./proxy-DiwWtO83.js";import{R as w,L as v,C as N,X as S,Y as T,T as C,a as L}from"./LineChart-Cuad7uF0.js";import"./findIndex-hgg4D-YM.js";const P={success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",error:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",info:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"},R=({variant:n="info",children:o})=>e.jsx("span",{className:j("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",P[n]),children:o}),U=()=>{const[n,o]=r.useState([]),[x,m]=r.useState([]),[h,i]=r.useState(!0),[a,d]=r.useState(1),[c,p]=r.useState(1),u=async()=>{try{i(!0);const s=await(await fetch(`http://localhost:5000/api/transactions?page=${a}`,{credentials:"include"})).json();o(s.transactions),p(s.pages)}catch(t){console.error("Failed to fetch transactions:",t)}finally{i(!1)}},g=async()=>{try{const s=await(await fetch("http://localhost:5000/api/transactions/stats",{credentials:"include"})).json();m(s)}catch(t){console.error("Failed to fetch stats:",t)}};r.useEffect(()=>{u(),g()},[a]);const b=t=>{const s={pending:"warning",success:"success",failed:"error"};return e.jsx(R,{variant:s[t]||"info",children:t.charAt(0).toUpperCase()+t.slice(1)})},y=[{key:"user_email",label:"User"},{key:"amount",label:"Amount",render:t=>`$${t.amount.toFixed(2)}`},{key:"status",label:"Status",render:t=>b(t.status)},{key:"date",label:"Date",render:t=>new Date(t.date).toLocaleDateString()}];return e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Transactions"}),e.jsxs(l,{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Revenue Overview"}),e.jsx("div",{className:"h-80",children:e.jsx(w,{width:"100%",height:"100%",children:e.jsxs(v,{data:x,children:[e.jsx(N,{strokeDasharray:"3 3"}),e.jsx(S,{dataKey:"week"}),e.jsx(T,{}),e.jsx(C,{}),e.jsx(L,{type:"monotone",dataKey:"total",stroke:"#6366f1",strokeWidth:2})]})})})]}),e.jsxs(l,{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Recent Transactions"}),e.jsx(f,{columns:y,data:n,isLoading:h}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",a," of ",c]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 dark:border-dark-border rounded-md disabled:opacity-50",onClick:()=>d(a-1),disabled:a===1,children:"Previous"}),e.jsx("button",{className:"px-4 py-2 border border-gray-300 dark:border-dark-border rounded-md disabled:opacity-50",onClick:()=>d(a+1),disabled:a===c,children:"Next"})]})]})]})]})})};export{U as default};
//# sourceMappingURL=Transactions-DUNQGmm3.js.map
