import{r as s,j as e}from"./index-CB33YwO6.js";import{T as N}from"./Table-BfyILhsP.js";import{C as w}from"./Card-BpGxWaDc.js";import{m as C}from"./proxy-DiwWtO83.js";import{S as E}from"./search-Der3oIB6.js";import{c as h}from"./createLucideIcon-CoTto-MY.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=h("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=h("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),$=()=>{const[p,c]=s.useState([]),[y,n]=s.useState(!0),[o,b]=s.useState(""),[a,i]=s.useState(1),[l,f]=s.useState(1),[d,k]=s.useState("created_at"),[m,u]=s.useState("desc"),j=[{id:1,name:"John Doe",email:"john@example.com",role:"admin"},{id:2,name:"Jane Smith",email:"jane@example.com",role:"user"}];s.useEffect(()=>{c(j)},[]);const x=async()=>{try{n(!0);const r=await(await fetch(`http://localhost:5000/api/users?page=${a}&search=${o}`,{credentials:"include"})).json();c(r.users),f(r.pages)}catch(t){console.error("Failed to fetch users:",t)}finally{n(!1)}};s.useEffect(()=>{x()},[a,o]);const g=t=>{d===t?u(m==="asc"?"desc":"asc"):(k(t),u("asc"))},v=async t=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await fetch(`http://localhost:5000/api/users/${t}`,{method:"DELETE",credentials:"include"})).ok&&x()}catch(r){console.error("Failed to delete user:",r)}},S=[{key:"email",label:"Email",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"role",label:"Role",sortable:!0},{key:"created_at",label:"Created At",sortable:!0,render:t=>new Date(t.created_at).toLocaleDateString()}];return e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Users"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search users...",className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-dark-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-dark-bg-secondary dark:text-white",value:o,onChange:t=>b(t.target.value)})]})]}),e.jsxs(w,{children:[e.jsx(N,{columns:S,data:p,isLoading:y,sortColumn:d,sortDirection:m,onSort:g,rowActions:t=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-primary-600 hover:text-primary-700",onClick:()=>console.log("Edit:",t.id),children:e.jsx(D,{size:16})}),e.jsx("button",{className:"text-red-600 hover:text-red-700",onClick:()=>v(t.id),children:e.jsx(P,{size:16})})]})}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",a," of ",l]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 dark:border-dark-border rounded-md disabled:opacity-50",onClick:()=>i(a-1),disabled:a===1,children:"Previous"}),e.jsx("button",{className:"px-4 py-2 border border-gray-300 dark:border-dark-border rounded-md disabled:opacity-50",onClick:()=>i(a+1),disabled:a===l,children:"Next"})]})]})]})]})})};export{$ as default};
//# sourceMappingURL=Users-CthBfVTY.js.map
